<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top py-1">
    <div class="container-fluid px-4 px-lg-5">
      <%= link_to families_path, class: "navbar-brand d-flex align-items-center py-1 my-0" do %>
        <svg width="100%" height="100%" viewBox="0 0 400 120" xmlns="http://www.w3.org/2000/svg" style="height: 50px; width: auto; max-width: 400px;">
          <defs>
            <linearGradient id="houseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
            </linearGradient>
            <linearGradient id="textGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
            </linearGradient>
          </defs>
          <g id="village-icon">
            <path d="M 40 50 L 60 30 L 80 50 L 80 75 L 40 75 Z" fill="url(#houseGradient)" stroke="#4F46E5" stroke-width="2"/>
            <rect x="52" y="60" width="16" height="15" fill="#ffffff" opacity="0.8"/>
            <circle cx="56" cy="45" r="3" fill="#ffffff" opacity="0.9"/>
            <circle cx="64" cy="45" r="3" fill="#ffffff" opacity="0.9"/>
            <path d="M 15 60 L 30 48 L 45 60 L 45 75 L 15 75 Z" fill="#667eea" opacity="0.8"/>
            <rect x="23" y="65" width="8" height="10" fill="#ffffff" opacity="0.7"/>
            <path d="M 75 60 L 90 48 L 105 60 L 105 75 L 75 75 Z" fill="#764ba2" opacity="0.8"/>
            <rect x="85" y="65" width="8" height="10" fill="#ffffff" opacity="0.7"/>
            <circle cx="25" cy="80" r="4" fill="#10b981" opacity="0.6"/>
            <rect x="24" y="80" width="2" height="8" fill="#059669"/>
            <circle cx="95" cy="80" r="4" fill="#10b981" opacity="0.6"/>
            <rect x="94" y="80" width="2" height="8" fill="#059669"/>
            <path d="M 60 75 Q 60 95 60 100" stroke="#d1d5db" stroke-width="3" fill="none" opacity="0.5"/>
          </g>
          <text x="125" y="55" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="url(#textGradient)">
            The Village
          </text>
          <text x="125" y="75" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">
            Gestion familiale & communautaire
          </text>
          <path d="M 380 50 Q 380 45 385 45 Q 390 45 390 50 Q 390 55 385 60 Q 380 55 380 50 M 385 45 Q 390 45 390 50"
                fill="#f87171" opacity="0.7"/>
        </svg>
      <% end %>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <%= link_to "Tableau de bord", families_path, class: "nav-link" %>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown">
              Gestion
            </a>
            <ul class="dropdown-menu">
              <li><%= link_to "Tâches", family_tasks_path(current_user.family), class: "dropdown-item" %></li>
              <li><%= link_to "Calendrier", family_family_events_path(current_user.family), class: "dropdown-item" %></li>
              <li><%= link_to "Documents", families_documents_path, class: "dropdown-item" %></li>
              <li><%= link_to "Membres", new_person_path, class: "dropdown-item" %></li>
            </ul>
          </li>
          <li class="nav-item">
            <%= link_to "Communauté", events_path, class: "nav-link" %>
          </li>
          <li class="nav-item">
            <%= link_to "Déconnexion", destroy_user_session_path, data: { turbo_method: :delete }, class: "nav-link" %>
          </li>
        </ul>
      </div>
    </div>
  </nav>
