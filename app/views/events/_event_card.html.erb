<!-- Event Card 1 -->
<div class="col-lg-6">
  <div class="card border rounded-4 h-100">
    <div class="card-body p-4">
      <div class="d-flex justify-content-between align-items-start mb-3">
        <div>
          <div class="d-flex gap-2 mb-2">
            <span class="badge bg-primary"><%= event.category %></span>
            <span class="badge bg-light text-dark">
              <span class="me-1">ğŸ‘¥</span><%= event.participations_count %>/<%= event.max_participations %>
            </span>
          </div>
          <h5 class="mb-0"><%= event.name %></h5>
        </div>
        <button type="button" class="btn btn-sm btn-secondary" data-bs-toggle="modal" data-bs-target="#participantsModal<%= event.id %>">Inscrit</button>
      </div>

      <div class="d-flex flex-column gap-2 mb-3">
        <div class="d-flex align-items-center text-secondary small">
          <span class="me-2">ğŸ“…</span><%= event.date %>
        </div>
        <div class="d-flex align-items-center text-secondary small">
          <span class="me-2">ğŸ“</span><%= event.place %>
        </div>
      </div>

      <p class="text-secondary small mb-3">
        <%= event.description %>
      </p>

      <div class="d-flex justify-content-between align-items-center pt-3 border-top">
        <div class="d-flex align-items-center gap-2">
          <div class="rounded-circle bg-light d-flex align-items-center justify-content-center"
                style="width: 32px; height: 32px;">
            <span class="small fw-medium"><%= event.user.name.split.map(&:first).join %></span>
          </div>
          <div>
            <div class="small text-secondary">OrganisÃ© par</div>
            <div class="small fw-medium"><%= event.user.name %></div>
          </div>
        </div>
        <% if event.user == current_user %>
          <div class="d-flex gap-2">
            <%= link_to edit_event_path(event), class: "btn btn-sm btn-outline-primary" do %>
              <span class="me-1">âœï¸</span>Modifier
            <% end %>
            <%= link_to event_path(event), data: { turbo_method: :delete, turbo_confirm: "ÃŠtes-vous sÃ»r de vouloir supprimer cet Ã©vÃ©nement ?" }, class: "btn btn-sm btn-outline-danger" do %>
              <span class="me-1">ğŸ—‘ï¸</span>Supprimer
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="d-flex gap-2 mt-3 pt-3 border-top">
        <button type="button" class="btn btn-sm btn-outline-secondary action-btn like-btn">
          <span class="me-1">ğŸ‘</span><span class="like-count">8</span>
        </button>
        <button type="button" class="btn btn-sm btn-outline-secondary action-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
          <span class="me-1">ğŸ’¬</span><span class="comment-count">5</span>
        </button>
        <button type="button" class="btn btn-sm btn-outline-secondary flex-grow-1 action-btn" data-bs-toggle="modal" data-bs-target="#shareModal">
          <span class="me-1">ğŸ“¤</span>Partager
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Participants -->
<%= render "participants_modal", event: event %>
